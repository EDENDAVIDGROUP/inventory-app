<div class="fixed-toolbar d-flex justify-content-between align-items-center px-3" style="position: fixed; top: 0; width: 100%; z-index: 1000;">
  <!-- Brand (replacing logo) -->
  <a href="index.html" class="brand" style="font-size: 1.25rem; font-weight: 700; color: #343a40; text-decoration: none;">注 </a>

  <!-- Page-specific buttons injected dynamically -->
  <div id="page-specific-buttons" class="d-flex gap-2"></div>

  <!-- Global toolbar buttons -->
  <div class="d-flex gap-2">
    <button class="btn btn-link" onclick="location.href='index.html'">祝 转</button>
    <button class="btn btn-link" onclick="window.history.back()">专 注 拽</button>
    <button class="btn btn-link" onclick="saveChanges()">砖专 砖</button>
    <button class="btn btn-link" onclick="exportToExcel()">爪 拽住</button>
    <button class="btn btn-link" onclick="printPage()">驻住</button>
  </div>
</div>


<script>
  function saveChanges() {
    alert(" 砖专转 砖 ( )");
  }

  function exportToExcel(filename) {
    // Fallback if no data exists
    const rows = (typeof transactions !== "undefined" ? transactions : []);
    if (!rows.length) {
      alert("锔  转 爪");
      return;
    }

    // Default headers
    const headers = ['住驻专 注住拽', '爪专', '拽', '专爪', '转专 砖专', '住住', '住住 注'];
    const dataRows = rows.map(tx => [
      tx.id, tx.product, tx.customer, tx.integration, tx.date, tx.status, tx.targetStatus
    ]);

    // Build CSV
    const csv = [headers, ...dataRows].map(r => r.join(",")).join("\n");
    const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });

    // Dynamic filename: use page title + date
    const pageTitle = document.title.replace(/\s+/g, "-");
    const today = new Date().toISOString().split("T")[0];
    const exportName = filename || `${pageTitle}-${today}.csv`;

    // Download
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.setAttribute("download", exportName);
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  function printPage() {
    window.print();
  }
</script>
